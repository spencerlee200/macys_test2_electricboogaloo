wwplayer.define(["jquery","underscore","AbstractPlayer","DeviceOrientationModule","pubsub","globals","modernizr","LogEvent","apiService","require-shim","libpannellum","iphone-inline-video"],function(e,n,i,t,o,a,r,c,d,l,s,u){"use strict";a.ENABLE_PIXEL_TIMECODE=!1,window.wirewax.preventKeyPress=!0;var h;return i.extend({init:function(n,i,r,c,d,l){this._super(n,i,r,c,d,l),h=this,h.refreshRate=(a.IS_IPHONE,60),h.vidId=e(n).attr("data-vidid"),h.stallLoopCount=0,h.lastCheckedStallTime=0,h.has360Controls=!("touchend"===a.CLICK_EVENT),h.has360Radar=!0,h.canUpdate360View=!0,h.renditionCodes=l.renditionCodes,h.touchesInAction={},window.wirewax.vidOverride&&(h.vidId=window.wirewax.vidOverride),h.posterUrl=window.wirewax.cdnUrl+"vidData/"+h.vidId+"/poster/poster.jpg",window.wirewax.blackPoster?h.posterUrl="public/offline/creativeData/pureblack.jpg":window.wirewax.posterUrl&&(h.posterUrl=window.wirewax.posterUrl),a.PREVENT_VIDEO_CLICK=!0,a.ENABLE_360_METRICS=!0,h.forceVideoElementContainerAsResizeReference=!0,h._time=0,h.config={hfov:a.HFOV,minHfov:50,maxHfov:120,pitch:0,minPitch:-85,maxPitch:85,yaw:l.startingYaw360||a.STARTING_YAW,minYaw:-180,maxYaw:180,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,type:"equirectangular",northOffset:0,dynamic:!0,debug:window.wirewax.debug},h.deviceConfig={deviceYaw:0,devicePitch:0,deviceYawDefice:0,devicePitchDefice:0},h.videoElement=e('<div id="wireWaxVideo"></div>'),l.fixedImage360&&(h.fixedImage360=l.fixedImage360,a.ENABLE_IMAGE_SOURCE=!0),a.IS_IE_11&&(a.ENABLE_VIDEO_CANVAS_SOURCE=!0),(a.IS_SAFARI||a.IS_IPAD||a.IS_IE_11||a.IS_IPHONE)&&(a.ENABLE_ALT_VIDEO_SOURCE=!0),a.ENABLE_ALT_VIDEO_SOURCE&&!window.wirewax.offline&&(h.cdnURL=window.location.href.indexOf("wirewax.tv")>-1?"//embed.wirewax.tv/":"//embed.wirewax.com/"),h.overrideGlobalRendition(),h.create360Video(n,c),h.buildTurnPhonePanel(),h.setOrientationChangeListenner(),a.IS_DESKTOP||(h.deviceOrientationModule=new t(function(e){h.update360ViewByDeviceOrientation(e.alpha,e.gamma,null)})),o.subscribe(a.WIDGET_SHOWN,function(e){h.canUpdate360View=!1}),o.subscribe(a.WIDGET_CLOSED,function(e){h.canUpdate360View=!0}),o.subscribe(a.ENABLE_AUDIO,h.enableAudio)},create360Video:function(i,t){var r="",d="";a.IS_DESKTOP&&"4k"===a.BANDWIDTH_PREFERRED_RENDITION&&(r=h.cdnURL+"vidData/"+h.vidId+"/"+h.vidId+"_4k.mp4",h.renditionCodes&&n.contains(h.renditionCodes.split(","),"31")&&(d=h.cdnURL+"vidData/"+h.vidId+"/"+h.vidId+"_4k.webm"));var l=h.cdnURL+"vidData/"+h.vidId+"/"+h.vidId+"_"+a.RENDITION+".mp4",u=h.cdnURL+"vidData/"+h.vidId+"/"+h.vidId+"_"+a.RENDITION+".webm";h.internalVideoElement=h.createVideoElement(h.posterUrl,l,u,r,d),h.setupLoadTimeEvent(),a.ENABLE_IMAGE_SOURCE&&(h.createImageSource(),h.config.dynamic=!1),a.ENABLE_VIDEO_CANVAS_SOURCE?h.createVideoInCanvasSource():h.source360=h.internalVideoElement;try{h.renderer=new s.renderer(h.videoElement[0],h.source360,h.config.type,h.config.dynamic),window.setTimeout(function(){t(h.videoElement)},50)}catch(e){"webgl error"==e.type||"no webgl"==e.type?o.publish(a.ERROR,new c(a.ERROR,a.ERRORS[5004])):"webgl size error"==e.type&&o.publish(a.ERROR,new c(a.ERROR,a.ERRORS[5003]))}e(i).append(h.videoElement)},setOrientationChangeListenner:function(){window!=window.top?o.subscribe(a.DEVICE_SCREEN_ORIENTATION,function(e,n){h.screenOrientation=n,h.handleScreenOrientation()}):(h.screenOrientation=window.orientation,window.addEventListener("orientationchange",function(){h.screenOrientation=window.orientation,h.handleScreenOrientation()},!1))},getYawAndPitch:function(){return{yaw:h.config.yaw,pitch:h.config.pitch}},handleScreenOrientation:function(){if(!a.IS_DESKTOP&&!window.wirewax.allow360Portrait&&h.controlEventsAttached)switch(h.screenOrientation){case 0:case 180:h.showTurnPhonePanel();break;case-90:case 90:h.config.forceUpdate=!0,h.hideTurnPhonePanel()}},buildTurnPhonePanel:function(){h.turnPhonePanel=e('<img class="turn-phone-message" src="public/offline/creativeData/360/360message-01.svg">'),e("#control-overlay").append(h.turnPhonePanel)},showTurnPhonePanel:function(){e(h.turnPhonePanel).show(),e("#tag-overlay").hide()},hideTurnPhonePanel:function(){e(h.turnPhonePanel).hide(),e("#tag-overlay").show()},attachControlEvents:function(i){h.controlEventsAttached||(i.addEventListener("mousemove",n.throttle(this.onMouseMove.bind(this),40),!1),i.addEventListener("mousedown",this.onMouseDown.bind(this),!1),i.addEventListener("mouseup",this.onMouseUp.bind(this),!1),e(document)[0].addEventListener("keydown",n.throttle(this.onKeyDown.bind(this),40),!1),i.addEventListener("touchstart",h.touchStartHandler,!1),i.addEventListener("touchmove",h.touchEndHandler,!1),h.controlEventsAttached=!0,h.handleScreenOrientation())},touchStartHandler:function(e){if("tag-overlay"===e.target.id){var n=e.changedTouches;h.touchesInAction["$"+n[0].identifier]={identifier:n[0].identifier,pageX:n[0].pageX,pageY:n[0].pageY,yaw:h.config.yaw,pitch:h.config.pitch},(a.IS_IPHONE||a.IS_IPAD)&&h.checkDoubletap(),e.stopPropagation()}},checkDoubletap:function(){var e=(new Date).getTime(),n=e-h.mylatesttap;n<400&&n>0&&(!a.DISABLE_MOBILE_DOUBLE_TAP||a.IS_DESKTOP)&&(a.PREVENT_VIDEO_DOUBLE_CLICK||h.playPause()),h.mylatesttap=(new Date).getTime()},touchEndHandler:function(e){if("tag-overlay"===e.target.id){e.preventDefault();var n=e.changedTouches,i=h.touchesInAction["$"+n[0].identifier],t=h.renderer.getCanvas(),o=180*(Math.atan(i.pageX/t.width*2-1)-Math.atan(n[0].pageX/t.width*2-1))/Math.PI*h.config.hfov/30+i.yaw;h.config.yaw=o%360;var a=2*Math.atan(Math.tan(h.config.hfov/360*Math.PI)*t.height/t.width)*180/Math.PI,r=180*(Math.atan(n[0].pageY/t.height*2-1)-Math.atan(i.pageY/t.height*2-1))/Math.PI*a/45+i.pitch;h.config.pitch=r%360,h.setDeviceOrientationStartPosition(h.config.yaw,h.config.pitch),h.onLoopUpdate()}},update360View:function(e,n,i){i=i||{};var t=i.maxPitchThreshold||25,o=i.minPitchThreshold||-25,a=i.maxYawThreshold||25,r=i.minYawThreshold||-25,c=i.maxPitchDiff||5,d=i.minPitchDiff||-5,l=i.maxYawDiff||5,s=i.minYawDiff||-5,u=i.pitchInverted?1:-1,f=i.yawInverted?1:-1;if(e<r||e>a){var E=e>0?c:d;h.config.yaw=(h.config.yaw+E*f)%360}if(n<o||n>t){var p=n>0?l:s;h.config.pitch=h.valBetween(h.config.pitch+p*u,-45,45)}h.setDeviceOrientationStartPosition(h.config.yaw,h.config.pitch)},valBetween:function(e,n,i){return Math.min(i,Math.max(n,e))},setDeviceOrientationStartPosition:function(e,n){h.deviceConfig.deviceYawDefice=h.deviceConfig.deviceYaw-e,h.deviceConfig.devicePitchDefice=h.deviceConfig.devicePitch-n},update360ViewByDeviceOrientation:function(e,n,i){i=i||{};var t=i.maxPitchView||45,o=i.minPitchView||-45;h.deviceConfig.deviceYaw=e%360,h.deviceConfig.devicePitch=n,e-=h.deviceConfig.deviceYawDefice%360,n-=h.deviceConfig.devicePitchDefice;var a=(h.config.yaw-e)%360,r=(h.config.pitch-n)%360;(h.checkYawThresholds(a)||h.config.forceUpdate)&&(h.config.yaw=e),(h.config.forceUpdate||h.checkPitchThresholds(r))&&n<=t&&n>=o&&(h.config.pitch=n),h.config.forceUpdate=!1,h.onLoopUpdate()},checkYawThresholds:function(e,n){n=n||{};var i=n.minYawView||0,t=n.maxYawView||360,o=n.maxYawDiff||40,a=i+o,r=i-o,c=t-o,d=o-t;return e<a&&e>r||e<d&&e>=-1*t||e>c&&e<=t},checkPitchThresholds:function(e,n){n=n||{};var i=n.maxPitchDiff||40;return e<i&&e>-i},onKeyDown:function(e){switch(e.keyCode){case 37:h.goLeft();break;case 38:h.goDown();break;case 39:h.goRight();break;case 40:h.goUp()}e.stopPropagation()},goLeft:function(e){e=e||1,h.config.yaw=(h.config.yaw-e)%360,h.playing()||h.onLoopUpdate()},goRight:function(e){e=e||1,h.config.yaw=(h.config.yaw+e)%360,h.playing()||h.onLoopUpdate()},goUp:function(e){e=e||1,h.config.pitch=Math.max(h.config.pitch-e,-85),h.playing()||h.onLoopUpdate()},goDown:function(e){e=e||1,h.config.pitch=Math.min(h.config.pitch+e,85),h.playing()||h.onLoopUpdate()},onMouseMove:function(e){if(h.isUserInteracting){h.latestInteraction=Date.now();var n=h.renderer.getCanvas(),i=h.mousePosition(e),t=180*(Math.atan(h.onPointerDownPointerX/n.width*2-1)-Math.atan(i.x/n.width*2-1))/Math.PI*h.config.hfov/30+h.onPointerDownYaw;h.yawSpeed=(t-h.config.yaw)%360*.2,h.config.yaw=t;var o=2*Math.atan(Math.tan(h.config.hfov/360*Math.PI)*n.height/n.width)*180/Math.PI,a=180*(Math.atan(i.y/n.height*2-1)-Math.atan(h.onPointerDownPointerY/n.height*2-1))/Math.PI*o/45+h.onPointerDownPitch;h.pitchSpeed=.2*(a-h.config.pitch),h.config.pitch=a,h.playing()||h.onLoopUpdate()}},mousePosition:function(n){var i=e("#waxxer")[0].getBoundingClientRect(),t={};return t.x=n.clientX-i.left,t.y=n.clientY-i.top,t},mouseEventToCoords:function(e){var n=h.mousePosition(e),i=h.renderer.getCanvas(),t=n.x/i.width*2-1,o=(1-n.y/i.height*2)*i.height/i.width,a=1/Math.tan(h.config.hfov*Math.PI/360),r=Math.sin(h.config.pitch*Math.PI/180),c=Math.cos(h.config.pitch*Math.PI/180),d=a*c-o*r,l=Math.sqrt(t*t+d*d);return[180*Math.atan((o*c+a*r)/l)/Math.PI,180*Math.atan2(t/l,d/l)/Math.PI+h.config.yaw]},onMouseDown:function(e){if(e.preventDefault(),h.canUpdate360View){var n=h.mousePosition(e);h.isUserInteracting=!0,h.latestInteraction=Date.now(),h.onPointerDownPointerX=n.x,h.onPointerDownPointerY=n.y,h.onPointerDownYaw=h.config.yaw,h.onPointerDownPitch=h.config.pitch}},onMouseUp:function(e){h.isUserInteracting&&(h.isUserInteracting=!1,Date.now()-h.latestInteraction>15&&(h.pitchSpeed=h.yawSpeed=0))},overrideGlobalRendition:function(){a.FORCE_RENDITION?a.RENDITION=a.FORCE_RENDITION:a.IS_IPHONE&&(a.RENDITION="720")},onResize:function(e,n){h.renderer.resize()},onLoopUpdate:function(){var e=(new Date).getTime();e-this._time>=h.refreshRate&&(this._time=e,h.canUpdate360View&&this.render())},render:function(){if(h.rendererInit){h.config.yaw>180?h.config.yaw-=360:h.config.yaw<-180&&(h.config.yaw+=360),h.config.yaw=Math.max(h.config.minYaw,Math.min(h.config.maxYaw,h.config.yaw)),h.config.pitch=Math.max(h.config.minPitch,Math.min(h.config.maxPitch,h.config.pitch)),a.ENABLE_VIDEO_CANVAS_SOURCE&&(h.internalVideoElement.paused||h.internalVideoElement.ended||h.ie11canvas.context.drawImage(h.internalVideoElement,0,0,h.ie11canvas.width,h.ie11canvas.height)),h.renderer.render(h.config.pitch*Math.PI/180,h.config.yaw*Math.PI/180,h.config.hfov*Math.PI/180)}},retryInit:function(e,n){try{h.renderer.init(h.config.haov*Math.PI/180,h.config.vaov*Math.PI/180,h.config.vOffset*Math.PI/180,function(){},10===a.IOS_VERSION),h.rendererInit=!0,o.publish(a.HIDE_LOADER)}catch(i){e++<3?setTimeout(h.retryInit.bind(h,e,n),1e3):(o.publish(a.HIDE_LOADER),o.publish(a.WEBGLERROR,"webglerror"),o.publish(a.ERROR,new c(a.ERROR,a.ERRORS[5033])),n(a.WEBGLERROR))}finally{h.rendererInit&&n()}},initRenderer:function(e){h.rendererInit?e():(o.publish(a.SHOW_LOADER),h.retryInit(0,e))},checkForStall:function(){if(h.stallCheckTimeout)return void(h.stallLoopCount=0);if(!h.playing()&&h.stalled&&(h.stalled=!1,o.publish(a.HIDE_LOADER)),h.stallLoopCount>30){h.stallLoopCount=0;var e=h.getCurrentTime();h.stalled||e!==h.lastCheckedStallTime?h.stalled&&e!==h.lastCheckedStallTime&&(h.stalled=!1,o.publish(a.HIDE_LOADER)):(h.stalled=!0,o.publish(a.SHOW_LOADER)),h.lastCheckedStallTime=e}else h.stallLoopCount=h.stallLoopCount+1},enableAudio:function(e,n){(a.AUDIO_DISABLED||n)&&(h.internalVideoElement.muted=!1,a.AUDIO_DISABLED=!1,o.publish(a.VOLUME_CHANGE,a.VOLUME))},disableAudio:function(){h.internalVideoElement.muted=!0,o.publish(a.VOLUME_CHANGE,0)},createVideoElement:function(n,i,t,o,r){window.wirewax.onVideoError=function(){h.onError(arguments)};var c;if(a.REQUIRES_BAGEL?(c=e('<video preload="auto" src="'+i+'" crossorigin="anonymous" webkit-playsinline playsinline id="wireWaxVideo"></video>')[0],h.iphonePlayer=u(c,h.refreshRate)):c=a.IOS_VERSION>10||a.IS_DESKTOP&&a.IS_SAFARI?e('<video preload="auto" src="'+i+'" crossorigin="anonymous" webkit-playsinline playsinline id="wireWaxVideo"></video>')[0]:e('<video preload="auto" crossorigin="anonymous" webkit-playsinline playsinline id="wireWaxVideo"><source src="'+o+'" type="video/mp4" ><source src="'+r+'" type="video/webm" ><source src="'+i+'" type="video/mp4"  ><source src="'+t+'" type="video/webm" onerror="window.wirewax.onVideoError(parentNode)" ></video>')[0],n){var d=e('<img style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; cursor: pointer;" class="fallback-poster-image" src="'+n+'"/>');d.bind(a.CLICK_EVENT,function(e){a.PLAY_FUNCTION(),setTimeout(function(){h.setCurrentTime("boo",0)},50)}),e("#tag-overlay").append(d)}return c},createImageSource:function(){var n=e('<img src="'+h.fixedImage360+'"></img>');n.attr("crossOrigin","anonymous"),h.source360=n[0]},createVideoInCanvasSource:function(){var e=a.RENDITION;a.IS_DESKTOP&&"4k"===a.BANDWIDTH_PREFERRED_RENDITION&&(e=2160);var n=16*e/9;h.source360=document.createElement("canvas"),h.source360.width=n,h.source360.height=e,h.ie11canvas={width:n,height:e,context:h.source360.getContext("2d")}},setupLoadTimeEvent:function(){var n=(new Date).getTime();e(h.internalVideoElement).bind("canplaythrough",function(){o.publish(a.LOAD_METRIC,{type:8,urls:[h.internalVideoElement.currentSrc],loadTime:(new Date).getTime()-n}),e(h.internalVideoElement).unbind("canplaythrough")})},getAvailableRenditions:function(){return["1080","720","540","360","180"]},switchRendition:function(n,i){var t=h.vidId;o.publish(a.SHOW_LOADER),h.pause(!0);var r=h.getCurrentTime();e(h.internalVideoElement).children("source").remove();var c=document.createElement("source");c.src=h.cdnURL+"vidData/"+t+"/"+t+"_"+i+".webm",e(h.internalVideoElement).append(c);var d=document.createElement("source");d.src=h.cdnURL+"vidData/"+t+"/"+t+"_"+i+".mp4",e(h.internalVideoElement).append(d);var l=function(){var n=function(){window.setTimeout(function(){h.play(!0),a.RENDITION=i,o.publish(a.RENDITION_CHANGED),o.publish(a.HIDE_LOADER),e(h.internalVideoElement).unbind("seeked",n)},1e3)};e(h.internalVideoElement).unbind("loadedmetadata",l),e(h.internalVideoElement).bind("seeked",n),h.internalVideoElement.currentTime=r};e(h.internalVideoElement).unbind("loadedmetadata").bind("loadedmetadata",l),h.internalVideoElement.load()},getCurrentRendition:function(){var e=h.vidId,n=h.internalVideoElement.currentSrc,i=n.indexOf(e.toString()+"_")+e.toString().length,t=n.substring(i).indexOf(".");return n.substring(i+1,i+t)},getVolume:function(){return h.internalVideoElement.volume},setVolume:function(e){e?h.enableAudio("lol",!0):h.disableAudio(),h.internalVideoElement.volume=e,this._super(e)},play:function(n){var i=this._super;h.initRenderer(function(t){if(!t)if(h.attachControlEvents(e("#tag-overlay")[0]),h.internalVideoElement.play(),a.IS_MAC&&a.IS_CHROME&&h.timecode)var o=window.setInterval(function(){h.timecode.renderCode(),h.getFrame()>=h.timecode.getFrame()&&(i(n),window.clearInterval(o))},40);else i(n)})},pause:function(e){h.playing()&&(h.internalVideoElement.pause(),this._super(e))},seeking:function(){return!h.iphonePlayer&&h.internalVideoElement.seeking},VideoData:function(e){this._super(e)},getAvailableSubtitles:function(){return this._super(),h.videoData?h.videoData.subtitles:[]},seekToFrame:function(e){h.setCurrentTime("junk",parseFloat(e/h.videoData.fps)+1e-4)},frameForward:function(n){if(!h.playing()){h.pauseOnSeek=!0;var i=h.getFrame()+1,t=(i-1)/h.videoData.fps+1e-4,o=function(i){if(n){var a=function(){i&&h.getCurrentTime()!==t||(e(h.internalVideoElement).unbind("seeked",a),n(o))};e(h.internalVideoElement).bind("seeked",a)}h.setCurrentTime("junk",t)};o(!1)}},frameBack:function(n){if(!h.playing()){h.pauseOnSeek=!0;var i=h.getFrame()-1,t=(i-1)/h.videoData.fps+1e-4,o=function(a){if(n){var r=function(){a&&h.getCurrentTime()!==t||(e(h.internalVideoElement).unbind("seeked",r),n(o))};e(h.internalVideoElement).bind("seeked",r),h.setCurrentTime("junk",i/h.videoData.fps+1e-4)}h.setCurrentTime("junk",t)};o(!1)}},getFrame:function(){return Math.floor((h.internalVideoElement.currentTime+1e-4)*h.videoData.fps)+1},setFrame:function(e){var n=e-25,i=h.videoData.fps*(n-1)+1e-4;h.setCurrentTime("junk",i)},goToTag:function(e,n){e&&(n||window.setTimeout(function(){a.PLAY_FUNCTION()},100),window.setTimeout(function(){o.publish(a.HIDE_LOADER),o.publish(a.DO_SEEK,e.tagStartTime),n||e.tagClick()},1e3))},getCurrentTime:function(e){return h.internalVideoElement.currentTime},setCurrentTime:function(e,n){if(!isNaN(n))try{this._super(e,n),h.iphonePlayer?(h.iphonePlayer.setTime.call(h.iphonePlayer,n,!0),h.render(),h.seeked()):h.internalVideoElement.currentTime=n}catch(e){console.log("Invalid current time "+n)}},getBuffered:function(){var e=0,n=h.internalVideoElement.buffered;if(n.length>0){for(var i=0,t=0;t<n.length;t++)n.end(t)>i&&(i=parseFloat(n.end(t)));e=i}else 4===h.internalVideoElement.readyState?(e=h.internalVideoElement.duration,isNaN(e)&&(e=0)):e=0;return e},getNetworkState:function(){return h.internalVideoElement.networkState},playing:function(){return!h.internalVideoElement.paused&&h.startedPlaying},paused:function(){return h.internalVideoElement.paused},playPause:function(){h.internalVideoElement.paused?h.play():h.pause()},getReadyState:function(){var e=h.internalVideoElement.readyState;return e<2?0:e>=2&&e<4?2:e>=4?4:void 0},load:function(){h.internalVideoElement.load()},onError:function(){3===h.getNetworkState()?o.publish(a.ERROR,new c(a.ERROR,a.ERRORS[5018])):o.publish(a.ERROR,new c(a.ERROR,a.ERRORS[5024]))},preSeekStallCheck:function(){h.stallCheckTimeout&&window.clearTimeout(h.stallCheckTimeout),h.stallCheckTimeout=window.setTimeout(function(){h.stallCheckTimeout=null,o.publish(a.SHOW_LOADER),o.publish(a.STARTED_BUFFERING)},1e3)},postSeekStallCheck:function(){h.render(),h.stallCheckTimeout?window.clearTimeout(h.stallCheckTimeout):(o.publish(a.ENDED_BUFFERING),o.publish(a.HIDE_LOADER))},initialise:function(){e(h.internalVideoElement).bind("seeked",this.seeked),e(h.internalVideoElement).bind("ended",h.onEnd);var n=o.subscribe(a.HAS_PLAYED,function(){e(window).resize(),o.unsubscribe(n),h.internalVideoElement.removeAttribute("poster"),e("#tag-overlay").find(".fallback-poster-image").remove()});a.ENABLE_STALL_DETECTION&&(o.subscribe(a.DO_SEEK,h.preSeekStallCheck),o.subscribe(a.HAS_SEEKED,h.postSeekStallCheck)),a.IS_IPHONE||a.IS_IPAD||e("#tag-overlay").on("dblclick",function(){a.PREVENT_VIDEO_DOUBLE_CLICK||h.playPause()}),h.mainLoop(),this._super();var i=!a.IS_DESKTOP&&a.CAN_AUTOPLAY,t=a.IS_DESKTOP&&a.IS_CHROME&&a.IS_CHROME_VERSION>=66;(i||t)&&(h.disableAudio(),a.AUDIO_DISABLED=!0)}})});