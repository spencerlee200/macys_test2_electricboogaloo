wwplayer.define(["module","BaseModule","jquery","globals","underscore","apiService","pubsub","TweenMax"],function(t,i,e,a,n,o,s,r){"use strict";function f(t){return t&&t.__esModule?t:{default:t}}function l(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function d(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function u(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}var c=f(i),g=f(e),L=f(a),p=(f(n),f(o),f(s)),v=f(r),h=function(){function t(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(i,e,a){return e&&t(i.prototype,e),a&&t(i,a),i}}(),y=void 0,_=v.default;t.exports=function(t){function i(t){l(this,i);var e=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return y=e,y.loadStyleHead(window.wirewax.moduleUrl+"style/33182.css"),y.toolkit.loadFont("creativeData/fonts/HelveticaNeueLTPro-Md/","HelveticaNeueLTPro-Md","HelveticaNeueLTPro-Md"),p.default.subscribe("tagClicked",y.updateGiftList),p.default.subscribe("giftListClicked",y.giftListIn),p.default.subscribe("giftData",function(t,i){y.sheetData=i,y.setupList()}),p.default.subscribe("mobileOrientationChange",y.changeOrientation),y.setupAll(),e}return u(i,t),h(i,[{key:"setupAll",value:function(){y.checkWindowMode();var t=L.default.IS_DESKTOP?"":y.mobileOrientation;y.mainOverlay=(0,g.default)('<div id="giftList_Holder" class="'+t+'">\n                <div id="giftListHolder_BG"></div>\n                <div id="giftList">\n                    <div id="giftList_Border"></div>\n                    <div id="giftList_TopLogo"></div><br>\n                    <div id="giftList_List">\n                        <div id="giftList_LeftColumn" class="giftList_Column"></div>\n                        <div id="giftList_RightColumn" class="giftList_Column"></div>\n                    </div>\n                </div>\n            </div>'),(0,g.default)("#waxxer #widget-overlay").append(y.mainOverlay),y.giftListHolder=y.mainOverlay.find("#giftList_holder"),y.giftListHolderBG=y.mainOverlay.find("#giftListHolder_BG"),y.giftList=y.mainOverlay.find("#giftList"),y.giftListList=y.mainOverlay.find("#giftList_List"),y.giftListLeft=y.mainOverlay.find("#giftList_LeftColumn"),y.giftListRight=y.mainOverlay.find("#giftList_RightColumn"),_.set([y.giftList,y.giftListHolderBG],{autoAlpha:0}),(0,g.default)(y.giftListHolderBG).on(L.default.CLICK_EVENT,function(){y.giftListOut()})}},{key:"setupList",value:function(){for(var t=0;t<y.sheetData.length;t++){var i=L.default.IS_DESKTOP?"":"isMobile",e=(0,g.default)('<div id="gift'+(t+1)+'" class="'+i+' giftList_Entry">\n                    <div class="giftList_CheckMark"></div>\n                    <div class="giftList_Copy">'+y.sheetData[t].gift+"</div>\n                </div><br>");t%2!=1?y.giftListLeft.append(e):y.giftListRight.append(e)}_.set(y.giftListList.find(".giftList_CheckMark"),{autoAlpha:0}),_.set(y.giftListList.find(".giftList_Copy"),{autoAlpha:.5})}},{key:"giftListIn",value:function(t,i){y.player.dragDisabled=!0,y.recordUiMetric("GiftList <---\x3e Open <---\x3e "+new Date,y.appRef,L.default.WIDGET_METRIC_TYPES.MEDIA_EXPAND),p.default.publish("showHideIcons","hide"),_.fromTo(y.giftListHolderBG,.2,{autoAlpha:0},{autoAlpha:1}),_.fromTo(y.giftList,.4,{autoAlpha:0},{autoAlpha:1}),_.staggerFromTo((0,g.default)(".giftList_Entry"),.5,{alpha:0},{alpha:1},.07)}},{key:"giftListOut",value:function(){_.fromTo(y.giftListHolderBG,.3,{autoAlpha:1},{autoAlpha:0}),_.fromTo(y.giftList,.3,{autoAlpha:1},{autoAlpha:0}),p.default.publish("showHideIcons","show"),y.player.dragDisabled=!1,y.recordUiMetric("GiftList <---\x3e Closed <---\x3e "+new Date,y.appRef,L.default.WIDGET_METRIC_TYPES.MEDIA_CLOSED)}},{key:"updateGiftList",value:function(t,i){var e=y.giftListList.find("#"+i[0]);_.set(e.find(".giftList_CheckMark"),{autoAlpha:1}),_.set(e.find(".giftList_Copy"),{autoAlpha:1})}},{key:"changeOrientation",value:function(t,i){y.mobileOrientation=i,y.mainOverlay&&y.mainOverlay.attr("class",y.mobileOrientation)}},{key:"checkWindowMode",value:function(){window.innerHeight>window.innerWidth?y.mobileOrientation="isPortrait":y.mobileOrientation="isLandscape"}}]),i}(c.default)});